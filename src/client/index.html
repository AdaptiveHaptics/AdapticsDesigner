<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="style.css">
	<title>AdapTics Studio</title>
	<link rel="icon" href="favicon.512.png" sizes="512x512" />
	<link rel="icon" href="favicon.192.png" sizes="192x192" />
	<link rel="icon" href="favicon.48.png" sizes="48x48" />
	<link rel="apple-touch-icon" href="favicon.512.png" sizes="512x512">
	<link rel="apple-touch-icon" href="favicon.192.png" sizes="192x192">
	<link rel="apple-touch-icon" href="favicon.48.png" sizes="48x48">
	<script src="./thirdparty/konva.min.js" defer></script>
	<script src="./js/script.mjs" type="module"></script>
</head>

<body>
	<div class="app">
		<div class="titlebar">
			<div class="isection file">
				<!-- <span class="icon">💾</span> -->
				<span class="filename">test.json</span>
				<span class="status savedstate">loading....</span>
			</div>
			<div class="verticalrule"></div>
			<div class="isection websocket">
				<span class="icon">⥮</span>
				<input class="websocketurl" type="text" value="ws://127.0.0.1:8037/">
				<button class="connect">Connect</button>
				<button class="disconnect" style="display: none;">Disconnect</button>
				<span class="status websocketstate">disconnected</span>
			</div>
		</div>
		<div class="mainsplitgrid">
			<div class="left">
				<div class="designs">

				</div>
			</div>
			<div class="gutter column leftcenter"></div>
			<div class="center konvastagecontainer" tabindex="0">
				<div id="patternstage" class="konvastage"></div>
			</div>
			<div class="gutter column centerright"></div>
			<div class="right">
				<div class="tabs">
					<button class="tab active" data-tabpanel="help">Editor Help</button>
					<button class="tab" data-tabpanel="ukfecontainer">Keyframe Editor</button>
					<button class="tab" data-tabpanel="pattern">Post Processing</button>
				</div>
				<div class="tabpanelcontainer betterscroll">
					<div class="help">
						<h1>Editor Help</h1>
						<p>
							<h4>To create a new keyframe, <code>Double Click</code></h4>
							<ul>
								<li>in background of the Pattern Pane</li>
								<li>within the Keyframe Track of the Timeline Pane</li>
							</ul>
						</p>
						<p>
							<h4>To select all, focus* an editor pane and <code>Ctrl+a</code></h4>
							<ul>
								<li>with the Pattern Pane focused, only select keyframes with coordinates</li>
								<li>with the Timeline Pane focused, select all keyframes</li>
							</ul>
							<sub>* Focus a pane by clicking within it. Focus is indicated by a light steel blue border</sub>
						</p>
						<p>
							<h4>Clicking a control point/keyframe:</h4>
							<ul>
								<li><code>Alt</code> is deletion</li>
								<li><code>Ctrl</code> toggles selection</li>
							</ul>
						</p>
						<p>
							<h4>During group selection:</h4>
							<ul>
								<li><code>Ctrl</code> is union/addition to selection</li>
								<li><code>Ctrl+Shift</code> is subtraction from selection</li>
								<li><code>Alt</code> includes linked keyframes</li>
							</ul>
						</p>
					</div>
					<form class="pattern">
						<div class="header">
							<h2>Pattern Post Processing</h2>
							<button type="reset">RESET</button>
						</div>
						<div class="transformcontrol labelinputgrid">
							<!-- controls added in pattern-globals-editor.mjs -->
						</div>
					</form>
					<div class="ukfecontainer">
						<h1>Keyframe Editor</h1>
						<div class="helptext">
							<div>Select one or more keyframes to edit them here.</div>
							<div>The selected keyframes' properties will be "unioned" together.</div>
							<div>If some properties are different, the field may be blank or display "multiple types".</div>
						</div>
						<form class="ukfe">
							<div class="typecontainer">
								<label>Type</label>
								<select name="keyframetype" class="keyframe type">
									<option hidden disabled selected value="multipletypes">multiple types</option>
									<option value="standard" title="Standard keyframe with coords, brush, intensity, and transitions">standard</option>
									<option value="pause" title="Holds brush at the previous keyframe's position">hold position</option>
									<option value="stop" title="Stops the animation, and pauses playback on the device">stop</option>
								</select>
							</div>
							<details class="coords">
								<summary>Coords</summary>
								<div>
									<div class="coordsconfig labelinputgrid">
										<label><span class="labeltext">x<span class="unit"> mm</span></span><input type="number" name="x" min="-100" max="100"></label>
										<label><span class="labeltext">y<span class="unit"> mm</span></span><input type="number" name="y" min="-100" max="100"></label>
										<label><span class="labeltext">z<span class="unit"> mm</span></span><input disabled type="number" name="z" min="0" max="100"></label>
									</div>
									<hr class="transitionsep">
									<div class="transition">
										<!-- <h4>Transition</h4> -->
										<div class="transitionconfig">
											<label>
												<span class="labeltext">Transition Type</span>
											</label>
											<select name="coordstransitiontype" class="coords transition type">
												<option hidden disabled selected value="multipletypes">multiple types</option>
												<option value="linear" title="Linear interpolation between the keyframes">linear</option>
												<option value="step" title="Step/Jump between the keyframes">step</option>
											</select>
										</div>
									</div>
								</div>
							</details>
							<details class="brush">
								<summary>Brush</summary>
								<div class="brushconfig labelinputgrid">
									<label><span class="labeltext">Brush Type</span></label>
									<select name="brushtype" class="brush type">
										<option hidden disabled selected value="multipletypes">multiple types</option>
										<option disabled value="omitted">omitted</option>
										<option value="circle">circle</option>
										<option value="line">line</option>
									</select>
									<!-- 'dynamic-f64-input's added in javascript unified-keyframe-editor.mjs -->
								</div>
								<hr class="transitionsep">
								<div class="transition">
									<!-- <h4>Transition</h4> -->
									<div class="transitionconfig">
										<label>
											<span class="labeltext">Transition Type</span>
										</label>
										<select name="brushtransitiontype" class="brush transition type">
											<option hidden disabled selected value="multipletypes">multiple types</option>
											<option value="linear" title="Linear interpolation between the keyframes">linear</option>
											<option value="step" title="Step/Jump between the keyframes">step</option>
										</select>
									</div>
								</div>
							</details>
							<details class="intensity">
								<summary>Intensity</summary>
								<div class="intensityconfig labelinputgrid">
									<label><span class="labeltext">Intensity Type</span></label>
									<select name="intensitytype" class="intensity type">
										<option hidden disabled selected value="multipletypes">multiple types</option>
										<option disabled value="omitted">omitted</option>
										<option value="constant">constant</option>
										<option value="random">random</option>
									</select>

								</div>
								<hr class="transitionsep">
								<div class="transition">
									<!-- <h4>Transition</h4> -->
									<div class="transitionconfig">
										<label>
											<span class="labeltext">Transition Type</span>
										</label>
										<select name="intensitytransitiontype" class="intensity transition type">
											<option hidden disabled selected value="multipletypes">multiple types</option>
											<option value="linear" title="Linear interpolation between the keyframes">linear</option>
											<option value="step" title="Step/Jump between the keyframes">step</option>
										</select>
									</div>
								</div>
							</details>
							<details class="cjump">
								<summary>Conditional Jump</summary>
								<div class="cjumpconfig">
									<div class="table">
										<div class="thead">
											<div>
												<div style="visibility: hidden;">⋮⋮</div>
												<div><span class="labeltext">Parameter</span></div>
												<div><span class="labeltext">Operator</span></div>
												<div><span class="labeltext">Value</span></div>
												<div><span class="labeltext">Jump To Time<span class="unit"> ms</span></span></div>
												<button class="remove" style="visibility: hidden;">✖</button>
											</div>
										</div>
										<div class="tbody cjumps-container">
											<!--  template.cjump clones into here  -->
										</div>
									</div>
									<button class="add">+ Add Conditional Jump</button>
									<template class="cjumprow">
										<div class="cjump">
											<div class="draghandle">⋮⋮</div>
											<input type="text" name="parameter">
											<select name="conditionoperatortype" class="conditionoperator type">
												<option hidden disabled selected value="multipletypes">multiple types</option>
												<option value="lt">&lt;</option>
												<option value="lt_eq">&lt;=</option>
												<option value="gt">&gt;</option>
												<option value="gt_eq">&gt;=</option>
											</select>
											<input type="number" name="value" step="0.05">
											<input type="number" name="jump_to" min="0">
											<button class="remove">✖</button>
										</div>
									</template>
								</div>
							</details>
						</form>
					</div>
				</div>
			</div>
			<div class="gutter row topbottom"></div>
			<div class="bottom">
				<div class="parametereditor betterscroll">
					<h1>Parameters</h1>
					<!-- <h2>Playback</h2> -->
					<div class="timecontrol">
						<label><span class="labeltext">Time<span class="unit"> ms</span></span><input type="number" name="time" min="0" step="1"></label>
						<button class="reset">⏮</button>
						<button class="play">⏵</button>
						<button class="pause" style="display: none;">⏸</button>
					</div>
					<h2>User/Dynamic</h2>
					<div class="userparameters">
						<div><span>Name</span><span></span><span>Value</span></div>
						<div><span class="helpmsg">To add a parameter here, simply use it in a keyframe (e.g. as the parameter in a conditional jump).</span></div>
					</div>
				</div>
				<div class="gutter column"></div>
				<div class="timeline konvastagecontainer" tabindex="0">
					<div id="timelinestage" class="konvastage"></div>
				</div>
			</div>
		</div>
	</div>
</body>

</html>